2017/03/17:13:45:16: runLVM.sh - Created logfile: ./RESULTS/runLVM.sh_20170317-134516.log
2017/03/17:13:45:16: Key variable values:
2017/03/17:13:45:16: > slowDEV=/dev/sdb - fastDEV=/dev/nvme0n1
2017/03/17:13:45:16: > fastSZ=12G - fastLV=lv_fast - fastVG=vg_fast
2017/03/17:13:45:16: > slowSZ=100G - slowLV=lv_slow - slowVG=vg_slow
2017/03/17:13:45:16: > slowLVPATH=/dev/vg_slow/lv_slow - fastLVPATH=/dev/vg_fast/lv_fast
2017/03/17:13:45:16: > slowSCRATCH=/mnt/slowdev/fio_scratch - fastSCRATCH=/mnt/fastdev/fio_scratch
2017/03/17:13:45:16: ---------------------------------
2017/03/17:13:45:16: Checking if /dev/sdb is in use, if yes abort
2017/03/17:13:45:16: Preparing /dev/sdb device partitions
Welcome to fdisk (util-linux 2.23.2).

Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.


Command (m for help): 
Command (m for help): Partition type:
   p   primary (0 primary, 0 extended, 4 free)
   e   extended
Select (default p): Partition number (1-4, default 1): First sector (2048-625142447, default 2048): Using default value 2048
Last sector, +sectors or +size{K,M,G} (2048-625142447, default 625142447): Using default value 625142447
Partition 1 of type Linux and of size 298.1 GiB is set

Command (m for help): The partition table has been altered!

Calling ioctl() to re-read partition table.
Syncing disks.
2017/03/17:13:45:17: Removing parition: dev=/dev/sdb - partition=1
2017/03/17:13:45:17: Checking if /dev/nvme0n1 is in use, if yes abort
2017/03/17:13:45:17: Preparing /dev/nvme0n1 device partitions
Welcome to fdisk (util-linux 2.23.2).

Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.


Command (m for help): 
Command (m for help): Partition type:
   p   primary (0 primary, 0 extended, 4 free)
   e   extended
Select (default p): Partition number (1-4, default 1): First sector (2048-250069679, default 2048): Using default value 2048
Last sector, +sectors or +size{K,M,G} (2048-250069679, default 250069679): Using default value 250069679
Partition 1 of type Linux and of size 119.2 GiB is set

Command (m for help): The partition table has been altered!

Calling ioctl() to re-read partition table.
Syncing disks.
2017/03/17:13:45:17: Removing parition: dev=/dev/nvme0n1 - partition=1
2017/03/17:13:45:17: Device checks complete - continuing...
2017/03/17:13:45:17: Starting: LVM SETUP
  LV      VG         Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert Devices         
  home    rhel_ml110 -wi-ao----  90.17g                                                     /dev/sda2(2016) 
  root    rhel_ml110 -wi-ao----  50.00g                                                     /dev/sda2(25099)
  swap    rhel_ml110 -wi-ao----   7.88g                                                     /dev/sda2(0)    
  lv_fast vg_fast    -wi-ao----  12.00g                                                     /dev/nvme0n1(0) 
  lv_slow vg_slow    -wi-a----- 100.00g                                                     /dev/sdb(0)     
Filesystem                  1K-blocks    Used Available Use% Mounted on
/dev/mapper/rhel_ml110-root  52403200 4641156  47762044   9% /
devtmpfs                      3985584       0   3985584   0% /dev
tmpfs                         4001112      84   4001028   1% /dev/shm
tmpfs                         4001112    9084   3992028   1% /run
tmpfs                         4001112       0   4001112   0% /sys/fs/cgroup
/dev/sda1                     1038336  231872    806464  23% /boot
/dev/mapper/rhel_ml110-home  94501804   50008  94451796   1% /home
tmpfs                          800224      16    800208   1% /run/user/42
tmpfs                          800224       0    800224   0% /run/user/0
/dev/mapper/vg_slow-lv_slow 104806400   33040 104773360   1% /mnt/slowdev
/dev/mapper/vg_fast-lv_fast  12572672   33040  12539632   1% /mnt/fastdev
2017/03/17:13:45:19: Completed: LVM SETUP
2017/03/17:13:45:19: BEGIN: Write the scratch files
2017/03/17:13:51:16: /mnt/slowdev/fio_scratch is 23068672 KB
2017/03/17:13:52:39: /mnt/fastdev/fio_scratch is 12537856 KB
2017/03/17:13:52:39: COMPLETED: Write the scratch files
2017/03/17:13:52:39: Starting: LVM Device TESTING
2017/03/17:13:52:39: RUNNING size 1G with blocksize 64k: /mnt/slowdev/fio_scratch
slow_1G_64k: (g=0): rw=randrw, bs=64K-64K/64K-64K/64K-64K, ioengine=libaio, iodepth=8
fio-2.2.8
Starting 1 process

slow_1G_64k: (groupid=0, jobs=1): err= 0: pid=6679: Fri Mar 17 13:53:34 2017
  read : io=939136KB, bw=17667KB/s, iops=276, runt= 53158msec
    slat (usec): min=6, max=148, avg=21.08, stdev= 5.80
    clat (msec): min=1, max=311, avg=26.25, stdev=27.25
     lat (msec): min=1, max=311, avg=26.27, stdev=27.25
    clat percentiles (usec):
     |  1.00th=[ 1992],  5.00th=[ 2128], 10.00th=[ 2384], 20.00th=[ 3664],
     | 30.00th=[ 8768], 40.00th=[12736], 50.00th=[17536], 60.00th=[23936],
     | 70.00th=[32384], 80.00th=[43776], 90.00th=[61184], 95.00th=[78336],
     | 99.00th=[123392], 99.50th=[144384], 99.90th=[211968], 99.95th=[228352],
     | 99.99th=[252928]
    bw (KB  /s): min=11856, max=22476, per=100.00%, avg=17686.25, stdev=2052.95
  write: io=109440KB, bw=2058.8KB/s, iops=32, runt= 53158msec
    slat (usec): min=10, max=91, avg=25.55, stdev= 5.86
    clat (msec): min=2, max=180, avg=23.12, stdev=23.57
     lat (msec): min=2, max=180, avg=23.15, stdev=23.57
    clat percentiles (msec):
     |  1.00th=[    3],  5.00th=[    3], 10.00th=[    3], 20.00th=[    4],
     | 30.00th=[    7], 40.00th=[   11], 50.00th=[   16], 60.00th=[   22],
     | 70.00th=[   30], 80.00th=[   41], 90.00th=[   55], 95.00th=[   70],
     | 99.00th=[  103], 99.50th=[  126], 99.90th=[  167], 99.95th=[  182],
     | 99.99th=[  182]
    bw (KB  /s): min= 1021, max= 3193, per=99.83%, avg=2054.59, stdev=513.96
    lat (msec) : 2=1.03%, 4=20.39%, 10=11.65%, 20=21.58%, 50=30.28%
    lat (msec) : 100=12.81%, 250=2.25%, 500=0.01%
  cpu          : usr=0.19%, sys=2.97%, ctx=15180, majf=0, minf=51
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=100.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.1%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued    : total=r=14674/w=1710/d=0, short=r=0/w=0/d=0, drop=r=0/w=0/d=0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: io=939136KB, aggrb=17666KB/s, minb=17666KB/s, maxb=17666KB/s, mint=53158msec, maxt=53158msec
  WRITE: io=109440KB, aggrb=2058KB/s, minb=2058KB/s, maxb=2058KB/s, mint=53158msec, maxt=53158msec

Disk stats (read/write):
    dm-3: ios=14613/1702, merge=0/0, ticks=381927/39330, in_queue=421410, util=99.87%, aggrios=13490/1694, aggrmerge=1119/21, aggrticks=360473/39374, aggrin_queue=400514, aggrutil=99.83%
  sdb: ios=13490/1694, merge=1119/21, ticks=360473/39374, in_queue=400514, util=99.83%
2017/03/17:13:53:34: /mnt/slowdev/fio_scratch complete.
2017/03/17:13:53:35: -----------------------
2017/03/17:13:53:35: RUNNING size 1G with blocksize 64k: /mnt/fastdev/fio_scratch
fast_1G_64k: (g=0): rw=randrw, bs=64K-64K/64K-64K/64K-64K, ioengine=libaio, iodepth=8
fio-2.2.8
Starting 1 process

fast_1G_64k: (groupid=0, jobs=1): err= 0: pid=6705: Fri Mar 17 13:53:40 2017
  read : io=939136KB, bw=197380KB/s, iops=3084, runt=  4758msec
    slat (usec): min=7, max=119, avg=21.38, stdev= 5.89
    clat (usec): min=362, max=6560, avg=2503.95, stdev=517.33
     lat (usec): min=380, max=6578, avg=2525.76, stdev=517.21
    clat percentiles (usec):
     |  1.00th=[  932],  5.00th=[ 1592], 10.00th=[ 2024], 20.00th=[ 2256],
     | 30.00th=[ 2480], 40.00th=[ 2480], 50.00th=[ 2512], 60.00th=[ 2544],
     | 70.00th=[ 2544], 80.00th=[ 2608], 90.00th=[ 2928], 95.00th=[ 3504],
     | 99.00th=[ 4192], 99.50th=[ 4448], 99.90th=[ 5536], 99.95th=[ 6112],
     | 99.99th=[ 6496]
    bw (KB  /s): min=195584, max=198784, per=100.00%, avg=197404.44, stdev=1322.15
  write: io=109440KB, bw=23001KB/s, iops=359, runt=  4758msec
    slat (usec): min=12, max=91, avg=28.41, stdev= 5.95
    clat (usec): min=368, max=2183, avg=505.80, stdev=79.62
     lat (usec): min=393, max=2214, avg=534.66, stdev=80.40
    clat percentiles (usec):
     |  1.00th=[  462],  5.00th=[  462], 10.00th=[  466], 20.00th=[  466],
     | 30.00th=[  474], 40.00th=[  498], 50.00th=[  502], 60.00th=[  502],
     | 70.00th=[  502], 80.00th=[  516], 90.00th=[  532], 95.00th=[  556],
     | 99.00th=[  796], 99.50th=[  964], 99.90th=[ 1560], 99.95th=[ 2192],
     | 99.99th=[ 2192]
    bw (KB  /s): min=19968, max=25600, per=99.67%, avg=22926.22, stdev=1768.35
    lat (usec) : 500=5.21%, 750=5.41%, 1000=0.93%
    lat (msec) : 2=7.61%, 4=79.31%, 10=1.53%
  cpu          : usr=1.89%, sys=12.82%, ctx=16271, majf=0, minf=32
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=100.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.1%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued    : total=r=14674/w=1710/d=0, short=r=0/w=0/d=0, drop=r=0/w=0/d=0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: io=939136KB, aggrb=197380KB/s, minb=197380KB/s, maxb=197380KB/s, mint=4758msec, maxt=4758msec
  WRITE: io=109440KB, aggrb=23001KB/s, minb=23001KB/s, maxb=23001KB/s, mint=4758msec, maxt=4758msec

Disk stats (read/write):
    dm-4: ios=14267/1652, merge=0/0, ticks=35613/821, in_queue=36445, util=97.92%, aggrios=14674/1712, aggrmerge=0/0, aggrticks=36609/850, aggrin_queue=37453, aggrutil=97.66%
  nvme0n1: ios=14674/1712, merge=0/0, ticks=36609/850, in_queue=37453, util=97.66%
2017/03/17:13:53:41: /mnt/fastdev/fio_scratch complete.
2017/03/17:13:53:41: -----------------------
2017/03/17:13:53:41: RUNNING size 10G with blocksize 64k: /mnt/slowdev/fio_scratch
slow_10G_64k: (g=0): rw=randrw, bs=64K-64K/64K-64K/64K-64K, ioengine=libaio, iodepth=8
fio-2.2.8
Starting 1 process

slow_10G_64k: (groupid=0, jobs=1): err= 0: pid=6722: Fri Mar 17 14:05:33 2017
  read : io=9195.6MB, bw=13251KB/s, iops=207, runt=710589msec
    slat (usec): min=6, max=108, avg=20.07, stdev= 5.39
    clat (msec): min=1, max=770, avg=35.01, stdev=29.93
     lat (msec): min=1, max=770, avg=35.03, stdev=29.93
    clat percentiles (msec):
     |  1.00th=[    3],  5.00th=[    3], 10.00th=[    8], 20.00th=[   15],
     | 30.00th=[   21], 40.00th=[   27], 50.00th=[   32], 60.00th=[   39],
     | 70.00th=[   45], 80.00th=[   53], 90.00th=[   64], 95.00th=[   74],
     | 99.00th=[   92], 99.50th=[  101], 99.90th=[  594], 99.95th=[  652],
     | 99.99th=[  709]
    bw (KB  /s): min=  110, max=18086, per=100.00%, avg=13356.50, stdev=2117.44
  write: io=1044.5MB, bw=1505.1KB/s, iops=23, runt=710589msec
    slat (usec): min=10, max=97, avg=24.36, stdev= 5.51
    clat (msec): min=2, max=711, avg=31.64, stdev=27.60
     lat (msec): min=2, max=711, avg=31.66, stdev=27.60
    clat percentiles (msec):
     |  1.00th=[    3],  5.00th=[    3], 10.00th=[    5], 20.00th=[   13],
     | 30.00th=[   18], 40.00th=[   23], 50.00th=[   29], 60.00th=[   35],
     | 70.00th=[   42], 80.00th=[   49], 90.00th=[   60], 95.00th=[   68],
     | 99.00th=[   88], 99.50th=[   97], 99.90th=[  239], 99.95th=[  627],
     | 99.99th=[  676]
    bw (KB  /s): min=   90, max= 3541, per=100.00%, avg=1517.85, stdev=492.64
    lat (msec) : 2=0.08%, 4=8.05%, 10=4.68%, 20=16.53%, 50=48.30%
    lat (msec) : 100=21.84%, 250=0.41%, 500=0.01%, 750=0.11%, 1000=0.01%
  cpu          : usr=0.08%, sys=2.29%, ctx=152838, majf=0, minf=28
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=100.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.1%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued    : total=r=147129/w=16711/d=0, short=r=0/w=0/d=0, drop=r=0/w=0/d=0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: io=9195.6MB, aggrb=13251KB/s, minb=13251KB/s, maxb=13251KB/s, mint=710589msec, maxt=710589msec
  WRITE: io=1044.5MB, aggrb=1505KB/s, minb=1505KB/s, maxb=1505KB/s, mint=710589msec, maxt=710589msec

Disk stats (read/write):
    dm-3: ios=147096/16737, merge=0/0, ticks=5133315/543772, in_queue=5677252, util=100.00%, aggrios=136335/16555, aggrmerge=10794/214, aggrticks=4848802/539533, aggrin_queue=5388110, aggrutil=100.00%
  sdb: ios=136335/16555, merge=10794/214, ticks=4848802/539533, in_queue=5388110, util=100.00%
2017/03/17:14:05:33: /mnt/slowdev/fio_scratch complete.
2017/03/17:14:05:33: -----------------------
2017/03/17:14:05:33: RUNNING size 10G with blocksize 64k: /mnt/fastdev/fio_scratch
fast_10G_64k: (g=0): rw=randrw, bs=64K-64K/64K-64K/64K-64K, ioengine=libaio, iodepth=8
fio-2.2.8
Starting 1 process

fast_10G_64k: (groupid=0, jobs=1): err= 0: pid=6883: Fri Mar 17 14:06:21 2017
  read : io=9195.6MB, bw=201923KB/s, iops=3155, runt= 46633msec
    slat (usec): min=7, max=189, avg=22.45, stdev= 5.68
    clat (usec): min=342, max=9914, avg=2445.55, stdev=522.37
     lat (usec): min=351, max=9940, avg=2468.46, stdev=522.22
    clat percentiles (usec):
     |  1.00th=[  900],  5.00th=[ 1544], 10.00th=[ 1992], 20.00th=[ 2224],
     | 30.00th=[ 2416], 40.00th=[ 2416], 50.00th=[ 2448], 60.00th=[ 2480],
     | 70.00th=[ 2480], 80.00th=[ 2544], 90.00th=[ 2960], 95.00th=[ 3408],
     | 99.00th=[ 4128], 99.50th=[ 4448], 99.90th=[ 5536], 99.95th=[ 5984],
     | 99.99th=[ 7072]
    bw (KB  /s): min=198272, max=204544, per=100.00%, avg=201986.58, stdev=1444.49
  write: io=1044.5MB, bw=22934KB/s, iops=358, runt= 46633msec
    slat (usec): min=11, max=198, avg=29.53, stdev= 6.24
    clat (usec): min=340, max=1594, avg=508.40, stdev=59.43
     lat (usec): min=354, max=1625, avg=538.42, stdev=60.29
    clat percentiles (usec):
     |  1.00th=[  450],  5.00th=[  462], 10.00th=[  466], 20.00th=[  470],
     | 30.00th=[  482], 40.00th=[  502], 50.00th=[  510], 60.00th=[  510],
     | 70.00th=[  516], 80.00th=[  516], 90.00th=[  532], 95.00th=[  572],
     | 99.00th=[  788], 99.50th=[  820], 99.90th=[ 1080], 99.95th=[ 1128],
     | 99.99th=[ 1528]
    bw (KB  /s): min=18816, max=27264, per=100.00%, avg=22947.29, stdev=1603.63
    lat (usec) : 500=4.02%, 750=6.50%, 1000=1.03%
    lat (msec) : 2=7.75%, 4=79.37%, 10=1.34%
  cpu          : usr=1.95%, sys=13.49%, ctx=162078, majf=0, minf=27
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=100.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.1%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued    : total=r=147129/w=16711/d=0, short=r=0/w=0/d=0, drop=r=0/w=0/d=0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: io=9195.6MB, aggrb=201922KB/s, minb=201922KB/s, maxb=201922KB/s, mint=46633msec, maxt=46633msec
  WRITE: io=1044.5MB, aggrb=22934KB/s, minb=22934KB/s, maxb=22934KB/s, mint=46633msec, maxt=46633msec

Disk stats (read/write):
    dm-4: ios=146384/16635, merge=0/0, ticks=356823/8357, in_queue=365184, util=99.84%, aggrios=147129/16715, aggrmerge=0/0, aggrticks=358255/8360, aggrin_queue=366534, aggrutil=99.80%
  nvme0n1: ios=147129/16715, merge=0/0, ticks=358255/8360, in_queue=366534, util=99.80%
2017/03/17:14:06:21: /mnt/fastdev/fio_scratch complete.
2017/03/17:14:06:21: -----------------------
2017/03/17:14:06:21: Completed: LVM Device TESTING
2017/03/17:14:06:21: Starting: LVM TEARDOWN
2017/03/17:14:06:22: Completed: LVM TEARDOWN
2017/03/17:14:06:22: END runLVM.sh**********************
2017/03/17:14:06:22: runLVM.sh - Closed logfile: ./RESULTS/runLVM.sh_20170317-134516.log
