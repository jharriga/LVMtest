2017/03/17:15:39:51: runLVM.sh - Created logfile: ./RESULTS/runLVM.sh_20170317-153951.log
2017/03/17:15:39:51: Key variable values:
2017/03/17:15:39:51: > slowDEV=/dev/sdb - fastDEV=/dev/nvme0n1
2017/03/17:15:39:51: > fastSZ=12G - fastLV=lv_fast - fastVG=vg_fast
2017/03/17:15:39:51: > slowSZ=100G - slowLV=lv_slow - slowVG=vg_slow
2017/03/17:15:39:51: > slowLVPATH=/dev/vg_slow/lv_slow - fastLVPATH=/dev/vg_fast/lv_fast
2017/03/17:15:39:51: > slowSCRATCH=/mnt/slowdev/fio_scratch - fastSCRATCH=/mnt/fastdev/fio_scratch
2017/03/17:15:39:51: ---------------------------------
2017/03/17:15:39:51: Checking if /dev/sdb is in use, if yes abort
2017/03/17:15:39:51: Preparing /dev/sdb device partitions
Welcome to fdisk (util-linux 2.23.2).

Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.


Command (m for help): 
Command (m for help): Partition type:
   p   primary (0 primary, 0 extended, 4 free)
   e   extended
Select (default p): Partition number (1-4, default 1): First sector (2048-625142447, default 2048): Using default value 2048
Last sector, +sectors or +size{K,M,G} (2048-625142447, default 625142447): Using default value 625142447
Partition 1 of type Linux and of size 298.1 GiB is set

Command (m for help): The partition table has been altered!

Calling ioctl() to re-read partition table.
Syncing disks.
2017/03/17:15:39:51: Removing parition: dev=/dev/sdb - partition=1
2017/03/17:15:39:51: Checking if /dev/nvme0n1 is in use, if yes abort
2017/03/17:15:39:51: Preparing /dev/nvme0n1 device partitions
Welcome to fdisk (util-linux 2.23.2).

Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.


Command (m for help): 
Command (m for help): Partition type:
   p   primary (0 primary, 0 extended, 4 free)
   e   extended
Select (default p): Partition number (1-4, default 1): First sector (2048-250069679, default 2048): Using default value 2048
Last sector, +sectors or +size{K,M,G} (2048-250069679, default 250069679): Using default value 250069679
Partition 1 of type Linux and of size 119.2 GiB is set

Command (m for help): The partition table has been altered!

Calling ioctl() to re-read partition table.
Syncing disks.
2017/03/17:15:39:52: Removing parition: dev=/dev/nvme0n1 - partition=1
2017/03/17:15:39:52: Device checks complete - continuing...
2017/03/17:15:39:52: Starting: LVM SETUP
  LV      VG         Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert Devices         
  home    rhel_ml110 -wi-ao----  90.17g                                                     /dev/sda2(2016) 
  root    rhel_ml110 -wi-ao----  50.00g                                                     /dev/sda2(25099)
  swap    rhel_ml110 -wi-ao----   7.88g                                                     /dev/sda2(0)    
  lv_fast vg_fast    -wi-ao----  12.00g                                                     /dev/nvme0n1(0) 
  lv_slow vg_slow    -wi-a----- 100.00g                                                     /dev/sdb(0)     
Filesystem                  1K-blocks    Used Available Use% Mounted on
/dev/mapper/rhel_ml110-root  52403200 4641244  47761956   9% /
devtmpfs                      3985584       0   3985584   0% /dev
tmpfs                         4001112      84   4001028   1% /dev/shm
tmpfs                         4001112    9084   3992028   1% /run
tmpfs                         4001112       0   4001112   0% /sys/fs/cgroup
/dev/sda1                     1038336  231872    806464  23% /boot
/dev/mapper/rhel_ml110-home  94501804   50012  94451792   1% /home
tmpfs                          800224      16    800208   1% /run/user/42
tmpfs                          800224       0    800224   0% /run/user/0
/dev/mapper/vg_slow-lv_slow 104806400   33040 104773360   1% /mnt/slowdev
/dev/mapper/vg_fast-lv_fast  12572672   33040  12539632   1% /mnt/fastdev
2017/03/17:15:39:53: Completed: LVM SETUP
2017/03/17:15:39:53: BEGIN: Write the scratch files
2017/03/17:15:39:53: /mnt/slowdev/fio_scratch is  KB
2017/03/17:15:39:54: /mnt/fastdev/fio_scratch is  KB
2017/03/17:15:39:54: COMPLETED: Write the scratch files
2017/03/17:15:39:54: Starting: LVM Device TESTING
2017/03/17:15:39:54: RUNNING size 1G with blocksize 64k: /mnt/slowdev/fio_scratch
slow_1G_64k: (g=0): rw=randrw, bs=64K-64K/64K-64K/64K-64K, ioengine=libaio, iodepth=8
fio-2.2.8
Starting 1 process
slow_1G_64k: Laying out IO file(s) (1 file(s) / 1024MB)

slow_1G_64k: (groupid=0, jobs=1): err= 0: pid=8083: Fri Mar 17 15:41:07 2017
  read : io=939136KB, bw=17527KB/s, iops=273, runt= 53581msec
    slat (usec): min=6, max=111, avg=19.69, stdev= 5.74
    clat (msec): min=1, max=288, avg=26.46, stdev=27.00
     lat (msec): min=1, max=288, avg=26.48, stdev=27.00
    clat percentiles (msec):
     |  1.00th=[    3],  5.00th=[    3], 10.00th=[    3], 20.00th=[    4],
     | 30.00th=[   10], 40.00th=[   13], 50.00th=[   18], 60.00th=[   25],
     | 70.00th=[   34], 80.00th=[   44], 90.00th=[   61], 95.00th=[   79],
     | 99.00th=[  123], 99.50th=[  143], 99.90th=[  194], 99.95th=[  217],
     | 99.99th=[  265]
    bw (KB  /s): min=10602, max=23936, per=100.00%, avg=17534.92, stdev=2270.12
  write: io=109440KB, bw=2042.6KB/s, iops=31, runt= 53581msec
    slat (usec): min=10, max=104, avg=24.24, stdev= 6.37
    clat (msec): min=2, max=249, avg=23.34, stdev=24.45
     lat (msec): min=2, max=249, avg=23.37, stdev=24.45
    clat percentiles (msec):
     |  1.00th=[    3],  5.00th=[    3], 10.00th=[    3], 20.00th=[    4],
     | 30.00th=[    7], 40.00th=[   11], 50.00th=[   16], 60.00th=[   21],
     | 70.00th=[   31], 80.00th=[   40], 90.00th=[   57], 95.00th=[   70],
     | 99.00th=[  115], 99.50th=[  128], 99.90th=[  190], 99.95th=[  249],
     | 99.99th=[  249]
    bw (KB  /s): min= 1003, max= 3314, per=100.00%, avg=2043.80, stdev=521.17
    lat (msec) : 2=0.42%, 4=20.61%, 10=11.55%, 20=21.81%, 50=30.19%
    lat (msec) : 100=13.10%, 250=2.31%, 500=0.01%
  cpu          : usr=0.11%, sys=3.01%, ctx=15187, majf=0, minf=50
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=100.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.1%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued    : total=r=14674/w=1710/d=0, short=r=0/w=0/d=0, drop=r=0/w=0/d=0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: io=939136KB, aggrb=17527KB/s, minb=17527KB/s, maxb=17527KB/s, mint=53581msec, maxt=53581msec
  WRITE: io=109440KB, aggrb=2042KB/s, minb=2042KB/s, maxb=2042KB/s, mint=53581msec, maxt=53581msec

Disk stats (read/write):
    dm-3: ios=14663/1717, merge=0/0, ticks=386138/40244, in_queue=426541, util=99.89%, aggrios=13494/1699, aggrmerge=1116/22, aggrticks=363115/39904, aggrin_queue=403499, aggrutil=99.85%
  sdb: ios=13494/1699, merge=1116/22, ticks=363115/39904, in_queue=403499, util=99.85%
2017/03/17:15:41:07: /mnt/slowdev/fio_scratch complete.
2017/03/17:15:41:07: -----------------------
2017/03/17:15:41:07: RUNNING size 1G with blocksize 64k: /mnt/fastdev/fio_scratch
fast_1G_64k: (g=0): rw=randrw, bs=64K-64K/64K-64K/64K-64K, ioengine=libaio, iodepth=8
fio-2.2.8
Starting 1 process
fast_1G_64k: Laying out IO file(s) (1 file(s) / 1024MB)

fast_1G_64k: (groupid=0, jobs=1): err= 0: pid=8109: Fri Mar 17 15:41:21 2017
  read : io=939136KB, bw=202575KB/s, iops=3165, runt=  4636msec
    slat (usec): min=7, max=184, avg=21.63, stdev= 5.84
    clat (usec): min=349, max=6411, avg=2436.19, stdev=519.44
     lat (usec): min=358, max=6435, avg=2458.26, stdev=519.33
    clat percentiles (usec):
     |  1.00th=[  900],  5.00th=[ 1544], 10.00th=[ 1912], 20.00th=[ 2192],
     | 30.00th=[ 2416], 40.00th=[ 2416], 50.00th=[ 2448], 60.00th=[ 2480],
     | 70.00th=[ 2480], 80.00th=[ 2544], 90.00th=[ 2992], 95.00th=[ 3408],
     | 99.00th=[ 4080], 99.50th=[ 4320], 99.90th=[ 5152], 99.95th=[ 5408],
     | 99.99th=[ 6176]
    bw (KB  /s): min=200960, max=204160, per=100.00%, avg=202652.44, stdev=1326.79
  write: io=109440KB, bw=23607KB/s, iops=368, runt=  4636msec
    slat (usec): min=13, max=104, avg=29.14, stdev= 6.32
    clat (usec): min=344, max=2159, avg=511.70, stdev=83.48
     lat (usec): min=370, max=2191, avg=541.33, stdev=83.87
    clat percentiles (usec):
     |  1.00th=[  458],  5.00th=[  462], 10.00th=[  466], 20.00th=[  466],
     | 30.00th=[  478], 40.00th=[  502], 50.00th=[  506], 60.00th=[  510],
     | 70.00th=[  516], 80.00th=[  524], 90.00th=[  540], 95.00th=[  572],
     | 99.00th=[  812], 99.50th=[ 1048], 99.90th=[ 1512], 99.95th=[ 2160],
     | 99.99th=[ 2160]
    bw (KB  /s): min=20224, max=24832, per=99.41%, avg=23466.67, stdev=1478.94
    lat (usec) : 500=4.20%, 750=6.48%, 1000=1.13%
    lat (msec) : 2=8.46%, 4=78.58%, 10=1.15%
  cpu          : usr=0.80%, sys=14.30%, ctx=16210, majf=0, minf=31
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=100.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.1%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued    : total=r=14674/w=1710/d=0, short=r=0/w=0/d=0, drop=r=0/w=0/d=0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: io=939136KB, aggrb=202574KB/s, minb=202574KB/s, maxb=202574KB/s, mint=4636msec, maxt=4636msec
  WRITE: io=109440KB, aggrb=23606KB/s, minb=23606KB/s, maxb=23606KB/s, mint=4636msec, maxt=4636msec

Disk stats (read/write):
    dm-4: ios=13918/1616, merge=0/0, ticks=33844/805, in_queue=34664, util=97.82%, aggrios=14674/1712, aggrmerge=0/0, aggrticks=35688/858, aggrin_queue=36532, aggrutil=97.60%
  nvme0n1: ios=14674/1712, merge=0/0, ticks=35688/858, in_queue=36532, util=97.60%
2017/03/17:15:41:21: /mnt/fastdev/fio_scratch complete.
2017/03/17:15:41:21: -----------------------
2017/03/17:15:41:21: RUNNING size 10G with blocksize 64k: /mnt/slowdev/fio_scratch
slow_10G_64k: (g=0): rw=randrw, bs=64K-64K/64K-64K/64K-64K, ioengine=libaio, iodepth=8
fio-2.2.8
Starting 1 process
slow_10G_64k: Laying out IO file(s) (1 file(s) / 10240MB)

slow_10G_64k: (groupid=0, jobs=1): err= 0: pid=8158: Fri Mar 17 15:56:00 2017
  read : io=9195.6MB, bw=13218KB/s, iops=206, runt=712397msec
    slat (usec): min=7, max=163, avg=18.65, stdev= 5.08
    clat (msec): min=1, max=781, avg=35.11, stdev=30.18
     lat (msec): min=1, max=781, avg=35.13, stdev=30.18
    clat percentiles (msec):
     |  1.00th=[    3],  5.00th=[    3], 10.00th=[    8], 20.00th=[   16],
     | 30.00th=[   21], 40.00th=[   27], 50.00th=[   33], 60.00th=[   39],
     | 70.00th=[   45], 80.00th=[   53], 90.00th=[   64], 95.00th=[   74],
     | 99.00th=[   91], 99.50th=[  100], 99.90th=[  619], 99.95th=[  660],
     | 99.99th=[  717]
    bw (KB  /s): min= 1391, max=18778, per=100.00%, avg=13327.87, stdev=2038.79
  write: io=1044.5MB, bw=1501.3KB/s, iops=23, runt=712397msec
    slat (usec): min=10, max=217, avg=22.93, stdev= 5.45
    clat (msec): min=1, max=704, avg=31.63, stdev=28.99
     lat (msec): min=2, max=704, avg=31.65, stdev=28.99
    clat percentiles (msec):
     |  1.00th=[    3],  5.00th=[    3], 10.00th=[    5], 20.00th=[   13],
     | 30.00th=[   18], 40.00th=[   23], 50.00th=[   29], 60.00th=[   35],
     | 70.00th=[   42], 80.00th=[   49], 90.00th=[   60], 95.00th=[   69],
     | 99.00th=[   86], 99.50th=[   94], 99.90th=[  611], 99.95th=[  644],
     | 99.99th=[  709]
    bw (KB  /s): min=   91, max= 3168, per=100.00%, avg=1513.16, stdev=493.89
    lat (msec) : 2=0.03%, 4=7.96%, 10=4.60%, 20=16.52%, 50=48.29%
    lat (msec) : 100=22.13%, 250=0.34%, 750=0.11%, 1000=0.01%
  cpu          : usr=0.08%, sys=2.28%, ctx=152831, majf=0, minf=27
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=100.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.1%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued    : total=r=147129/w=16711/d=0, short=r=0/w=0/d=0, drop=r=0/w=0/d=0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: io=9195.6MB, aggrb=13217KB/s, minb=13217KB/s, maxb=13217KB/s, mint=712397msec, maxt=712397msec
  WRITE: io=1044.5MB, aggrb=1501KB/s, minb=1501KB/s, maxb=1501KB/s, mint=712397msec, maxt=712397msec

Disk stats (read/write):
    dm-3: ios=147125/16738, merge=0/0, ticks=5148809/544095, in_queue=5693160, util=100.00%, aggrios=136324/16555, aggrmerge=10805/214, aggrticks=4859078/539404, aggrin_queue=5398185, aggrutil=100.00%
  sdb: ios=136324/16555, merge=10805/214, ticks=4859078/539404, in_queue=5398185, util=100.00%
2017/03/17:15:56:00: /mnt/slowdev/fio_scratch complete.
2017/03/17:15:56:00: -----------------------
2017/03/17:15:56:00: RUNNING size 10G with blocksize 64k: /mnt/fastdev/fio_scratch
fast_10G_64k: (g=0): rw=randrw, bs=64K-64K/64K-64K/64K-64K, ioengine=libaio, iodepth=8
fio-2.2.8
Starting 1 process
fast_10G_64k: Laying out IO file(s) (1 file(s) / 10240MB)

fast_10G_64k: (groupid=0, jobs=1): err= 0: pid=8315: Fri Mar 17 15:58:00 2017
  read : io=9195.6MB, bw=194833KB/s, iops=3044, runt= 48330msec
    slat (usec): min=7, max=180, avg=22.28, stdev= 5.66
    clat (usec): min=356, max=9522, avg=2537.89, stdev=559.04
     lat (usec): min=366, max=9546, avg=2560.62, stdev=558.85
    clat percentiles (usec):
     |  1.00th=[  956],  5.00th=[ 1608], 10.00th=[ 1992], 20.00th=[ 2256],
     | 30.00th=[ 2480], 40.00th=[ 2480], 50.00th=[ 2512], 60.00th=[ 2544],
     | 70.00th=[ 2576], 80.00th=[ 2640], 90.00th=[ 3184], 95.00th=[ 3632],
     | 99.00th=[ 4384], 99.50th=[ 4704], 99.90th=[ 5536], 99.95th=[ 5984],
     | 99.99th=[ 7072]
    bw (KB  /s): min=186752, max=198144, per=100.00%, avg=194904.00, stdev=1898.48
  write: io=1044.5MB, bw=22129KB/s, iops=345, runt= 48330msec
    slat (usec): min=12, max=153, avg=29.88, stdev= 6.11
    clat (usec): min=340, max=4591, avg=503.68, stdev=76.99
     lat (usec): min=354, max=4625, avg=534.03, stdev=77.91
    clat percentiles (usec):
     |  1.00th=[  438],  5.00th=[  462], 10.00th=[  466], 20.00th=[  470],
     | 30.00th=[  482], 40.00th=[  498], 50.00th=[  502], 60.00th=[  502],
     | 70.00th=[  502], 80.00th=[  516], 90.00th=[  532], 95.00th=[  556],
     | 99.00th=[  780], 99.50th=[  812], 99.90th=[ 1048], 99.95th=[ 1192],
     | 99.99th=[ 4016]
    bw (KB  /s): min=17536, max=26240, per=100.00%, avg=22141.33, stdev=1582.45
    lat (usec) : 500=4.93%, 750=5.51%, 1000=0.80%
    lat (msec) : 2=8.02%, 4=78.49%, 10=2.25%
  cpu          : usr=1.12%, sys=13.75%, ctx=162618, majf=0, minf=26
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=100.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.1%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued    : total=r=147129/w=16711/d=0, short=r=0/w=0/d=0, drop=r=0/w=0/d=0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: io=9195.6MB, aggrb=194832KB/s, minb=194832KB/s, maxb=194832KB/s, mint=48330msec, maxt=48330msec
  WRITE: io=1044.5MB, aggrb=22129KB/s, minb=22129KB/s, maxb=22129KB/s, mint=48330msec, maxt=48330msec

Disk stats (read/write):
    dm-4: ios=146461/16645, merge=0/0, ticks=371170/8354, in_queue=379535, util=99.82%, aggrios=147129/16721, aggrmerge=0/0, aggrticks=372529/8364, aggrin_queue=380697, aggrutil=99.77%
  nvme0n1: ios=147129/16721, merge=0/0, ticks=372529/8364, in_queue=380697, util=99.77%
2017/03/17:15:58:00: /mnt/fastdev/fio_scratch complete.
2017/03/17:15:58:00: -----------------------
2017/03/17:15:58:00: Completed: LVM Device TESTING
2017/03/17:15:58:00: Starting: LVM TEARDOWN
2017/03/17:15:58:01: Completed: LVM TEARDOWN
2017/03/17:15:58:01: END runLVM.sh**********************
2017/03/17:15:58:01: runLVM.sh - Closed logfile: ./RESULTS/runLVM.sh_20170317-153951.log
