2017/03/17:17:39:14: runLVM.sh - Created logfile: ./RESULTS/runLVM.sh_20170317-173914.log
2017/03/17:17:39:14: Key variable values:
2017/03/17:17:39:14: > slowDEV=/dev/sdb - fastDEV=/dev/nvme0n1
2017/03/17:17:39:14: > fastSZ=12G - fastLV=lv_fast - fastVG=vg_fast
2017/03/17:17:39:14: > slowSZ=100G - slowLV=lv_slow - slowVG=vg_slow
2017/03/17:17:39:14: > slowLVPATH=/dev/vg_slow/lv_slow - fastLVPATH=/dev/vg_fast/lv_fast
2017/03/17:17:39:14: > slowSCRATCH=/mnt/slowdev/fio_scratch - fastSCRATCH=/mnt/fastdev/fio_scratch
2017/03/17:17:39:14: ---------------------------------
2017/03/17:17:39:14: Checking if /dev/sdb is in use, if yes abort
2017/03/17:17:39:14: Preparing /dev/sdb device partitions
Welcome to fdisk (util-linux 2.23.2).

Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.


Command (m for help): 
Command (m for help): Partition type:
   p   primary (0 primary, 0 extended, 4 free)
   e   extended
Select (default p): Partition number (1-4, default 1): First sector (2048-625142447, default 2048): Using default value 2048
Last sector, +sectors or +size{K,M,G} (2048-625142447, default 625142447): Using default value 625142447
Partition 1 of type Linux and of size 298.1 GiB is set

Command (m for help): The partition table has been altered!

Calling ioctl() to re-read partition table.
Syncing disks.
2017/03/17:17:39:15: Removing parition: dev=/dev/sdb - partition=1
2017/03/17:17:39:15: Checking if /dev/nvme0n1 is in use, if yes abort
2017/03/17:17:39:15: Preparing /dev/nvme0n1 device partitions
Welcome to fdisk (util-linux 2.23.2).

Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.


Command (m for help): 
Command (m for help): Partition type:
   p   primary (0 primary, 0 extended, 4 free)
   e   extended
Select (default p): Partition number (1-4, default 1): First sector (2048-250069679, default 2048): Using default value 2048
Last sector, +sectors or +size{K,M,G} (2048-250069679, default 250069679): Using default value 250069679
Partition 1 of type Linux and of size 119.2 GiB is set

Command (m for help): The partition table has been altered!

Calling ioctl() to re-read partition table.
Syncing disks.
2017/03/17:17:39:15: Removing parition: dev=/dev/nvme0n1 - partition=1
2017/03/17:17:39:15: Device checks complete - continuing...
2017/03/17:17:39:15: Starting: LVM SETUP
  LV      VG         Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert Devices         
  home    rhel_ml110 -wi-ao----  90.17g                                                     /dev/sda2(2016) 
  root    rhel_ml110 -wi-ao----  50.00g                                                     /dev/sda2(25099)
  swap    rhel_ml110 -wi-ao----   7.88g                                                     /dev/sda2(0)    
  lv_fast vg_fast    -wi-ao----  12.00g                                                     /dev/nvme0n1(0) 
  lv_slow vg_slow    -wi-a----- 100.00g                                                     /dev/sdb(0)     
Filesystem                  1K-blocks    Used Available Use% Mounted on
/dev/mapper/rhel_ml110-root  52403200 4641588  47761612   9% /
devtmpfs                      3985584       0   3985584   0% /dev
tmpfs                         4001112      84   4001028   1% /dev/shm
tmpfs                         4001112    9028   3992084   1% /run
tmpfs                         4001112       0   4001112   0% /sys/fs/cgroup
/dev/sda1                     1038336  231872    806464  23% /boot
/dev/mapper/rhel_ml110-home  94501804   50044  94451760   1% /home
tmpfs                          800224      16    800208   1% /run/user/42
tmpfs                          800224       0    800224   0% /run/user/0
/dev/mapper/vg_slow-lv_slow 104806400   33040 104773360   1% /mnt/slowdev
/dev/mapper/vg_fast-lv_fast  12572672   33040  12539632   1% /mnt/fastdev
2017/03/17:17:39:17: Completed: LVM SETUP
2017/03/17:17:39:17: BEGIN: Write the scratch files
2017/03/17:17:42:16: /mnt/slowdev/fio_scratch is 11534336 KB
2017/03/17:17:43:32: /mnt/fastdev/fio_scratch is 11534336 KB
2017/03/17:17:43:32: COMPLETED: Write the scratch files
2017/03/17:17:43:32: Starting: LVM Device TESTING
2017/03/17:17:43:32: RUNNING size 1G with blocksize 64k: /mnt/slowdev/fio_scratch
slow_1G_64k: (g=0): rw=randrw, bs=64K-64K/64K-64K/64K-64K, ioengine=libaio, iodepth=8
fio-2.2.8
Starting 1 process

slow_1G_64k: (groupid=0, jobs=1): err= 0: pid=10991: Fri Mar 17 17:44:28 2017
  read : io=836864KB, bw=15521KB/s, iops=242, runt= 53919msec
    slat (usec): min=7, max=149, avg=23.13, stdev= 6.53
    clat (msec): min=1, max=764, avg=26.89, stdev=31.29
     lat (msec): min=1, max=764, avg=26.91, stdev=31.29
    clat percentiles (msec):
     |  1.00th=[    3],  5.00th=[    3], 10.00th=[    3], 20.00th=[    5],
     | 30.00th=[   10], 40.00th=[   14], 50.00th=[   19], 60.00th=[   25],
     | 70.00th=[   33], 80.00th=[   44], 90.00th=[   61], 95.00th=[   80],
     | 99.00th=[  124], 99.50th=[  143], 99.90th=[  273], 99.95th=[  502],
     | 99.99th=[  734]
    bw (KB  /s): min= 2793, max=21844, per=100.00%, avg=15604.36, stdev=2894.79
  write: io=211712KB, bw=3926.5KB/s, iops=61, runt= 53919msec
    slat (usec): min=10, max=98, avg=27.93, stdev= 6.47
    clat (msec): min=2, max=577, avg=23.95, stdev=30.35
     lat (msec): min=2, max=577, avg=23.98, stdev=30.35
    clat percentiles (msec):
     |  1.00th=[    3],  5.00th=[    3], 10.00th=[    3], 20.00th=[    4],
     | 30.00th=[    7], 40.00th=[   11], 50.00th=[   16], 60.00th=[   21],
     | 70.00th=[   30], 80.00th=[   39], 90.00th=[   55], 95.00th=[   72],
     | 99.00th=[  126], 99.50th=[  147], 99.90th=[  441], 99.95th=[  570],
     | 99.99th=[  578]
    bw (KB  /s): min=  761, max= 6144, per=100.00%, avg=3947.75, stdev=961.51
    lat (msec) : 2=0.61%, 4=19.23%, 10=12.59%, 20=22.03%, 50=30.84%
    lat (msec) : 100=12.40%, 250=2.19%, 500=0.05%, 750=0.05%, 1000=0.01%
  cpu          : usr=0.14%, sys=3.09%, ctx=15341, majf=0, minf=51
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=100.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.1%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued    : total=r=13076/w=3308/d=0, short=r=0/w=0/d=0, drop=r=0/w=0/d=0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: io=836864KB, aggrb=15520KB/s, minb=15520KB/s, maxb=15520KB/s, mint=53919msec, maxt=53919msec
  WRITE: io=211712KB, aggrb=3926KB/s, minb=3926KB/s, maxb=3926KB/s, mint=53919msec, maxt=53919msec

Disk stats (read/write):
    dm-3: ios=13076/3311, merge=0/0, ticks=350141/80462, in_queue=430676, util=99.88%, aggrios=12110/3237, aggrmerge=920/78, aggrticks=329195/79673, aggrin_queue=409341, aggrutil=99.85%
  sdb: ios=12110/3237, merge=920/78, ticks=329195/79673, in_queue=409341, util=99.85%
2017/03/17:17:44:28: /mnt/slowdev/fio_scratch complete.
2017/03/17:17:44:28: -----------------------
2017/03/17:17:44:28: RUNNING size 1G with blocksize 64k: /mnt/fastdev/fio_scratch
fast_1G_64k: (g=0): rw=randrw, bs=64K-64K/64K-64K/64K-64K, ioengine=libaio, iodepth=8
fio-2.2.8
Starting 1 process

fast_1G_64k: (groupid=0, jobs=1): err= 0: pid=11016: Fri Mar 17 17:44:34 2017
  read : io=836864KB, bw=192515KB/s, iops=3008, runt=  4347msec
    slat (usec): min=7, max=188, avg=21.51, stdev= 6.40
    clat (usec): min=347, max=9927, avg=2486.89, stdev=742.19
     lat (usec): min=356, max=9942, avg=2508.84, stdev=742.04
    clat percentiles (usec):
     |  1.00th=[  612],  5.00th=[ 1224], 10.00th=[ 1592], 20.00th=[ 2096],
     | 30.00th=[ 2224], 40.00th=[ 2416], 50.00th=[ 2480], 60.00th=[ 2512],
     | 70.00th=[ 2608], 80.00th=[ 2896], 90.00th=[ 3376], 95.00th=[ 3760],
     | 99.00th=[ 4640], 99.50th=[ 5280], 99.90th=[ 6816], 99.95th=[ 6944],
     | 99.99th=[ 7712]
    bw (KB  /s): min=187912, max=195328, per=100.00%, avg=192577.00, stdev=2231.46
  write: io=211712KB, bw=48703KB/s, iops=760, runt=  4347msec
    slat (usec): min=12, max=111, avg=28.77, stdev= 7.10
    clat (usec): min=339, max=1524, avg=538.02, stdev=115.88
     lat (usec): min=354, max=1539, avg=567.28, stdev=116.05
    clat percentiles (usec):
     |  1.00th=[  410],  5.00th=[  462], 10.00th=[  466], 20.00th=[  466],
     | 30.00th=[  482], 40.00th=[  502], 50.00th=[  510], 60.00th=[  516],
     | 70.00th=[  524], 80.00th=[  556], 90.00th=[  716], 95.00th=[  788],
     | 99.00th=[ 1048], 99.50th=[ 1144], 99.90th=[ 1192], 99.95th=[ 1448],
     | 99.99th=[ 1528]
    bw (KB  /s): min=44544, max=51712, per=99.39%, avg=48403.62, stdev=2398.81
    lat (usec) : 500=8.31%, 750=11.40%, 1000=2.98%
    lat (msec) : 2=11.87%, 4=62.91%, 10=2.53%
  cpu          : usr=1.36%, sys=14.84%, ctx=15727, majf=0, minf=33
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=100.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.1%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued    : total=r=13076/w=3308/d=0, short=r=0/w=0/d=0, drop=r=0/w=0/d=0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: io=836864KB, aggrb=192515KB/s, minb=192515KB/s, maxb=192515KB/s, mint=4347msec, maxt=4347msec
  WRITE: io=211712KB, aggrb=48703KB/s, minb=48703KB/s, maxb=48703KB/s, mint=4347msec, maxt=4347msec

Disk stats (read/write):
    dm-4: ios=12403/3117, merge=0/0, ticks=30835/1640, in_queue=32484, util=97.66%, aggrios=13076/3310, aggrmerge=0/0, aggrticks=32454/1750, aggrin_queue=34182, aggrutil=97.32%
  nvme0n1: ios=13076/3310, merge=0/0, ticks=32454/1750, in_queue=34182, util=97.32%
2017/03/17:17:44:34: /mnt/fastdev/fio_scratch complete.
2017/03/17:17:44:34: -----------------------
2017/03/17:17:44:34: RUNNING size 10G with blocksize 64k: /mnt/slowdev/fio_scratch
slow_10G_64k: (g=0): rw=randrw, bs=64K-64K/64K-64K/64K-64K, ioengine=libaio, iodepth=8
fio-2.2.8
Starting 1 process

slow_10G_64k: (groupid=0, jobs=1): err= 0: pid=11034: Fri Mar 17 17:55:58 2017
  read : io=8176.4MB, bw=12268KB/s, iops=191, runt=682490msec
    slat (usec): min=6, max=184, avg=26.36, stdev= 5.96
    clat (msec): min=1, max=827, avg=34.11, stdev=31.28
     lat (msec): min=1, max=827, avg=34.14, stdev=31.28
    clat percentiles (msec):
     |  1.00th=[    3],  5.00th=[    3], 10.00th=[    6], 20.00th=[   15],
     | 30.00th=[   20], 40.00th=[   26], 50.00th=[   31], 60.00th=[   38],
     | 70.00th=[   44], 80.00th=[   52], 90.00th=[   63], 95.00th=[   73],
     | 99.00th=[   92], 99.50th=[  100], 99.90th=[  652], 99.95th=[  701],
     | 99.99th=[  758]
    bw (KB  /s): min=  406, max=17566, per=100.00%, avg=12370.22, stdev=2185.45
  write: io=2063.7MB, bw=3096.3KB/s, iops=48, runt=682490msec
    slat (usec): min=10, max=142, avg=31.89, stdev= 5.94
    clat (msec): min=1, max=784, avg=30.04, stdev=28.10
     lat (msec): min=1, max=784, avg=30.07, stdev=28.10
    clat percentiles (msec):
     |  1.00th=[    3],  5.00th=[    3], 10.00th=[    4], 20.00th=[   11],
     | 30.00th=[   16], 40.00th=[   22], 50.00th=[   27], 60.00th=[   33],
     | 70.00th=[   40], 80.00th=[   47], 90.00th=[   58], 95.00th=[   67],
     | 99.00th=[   85], 99.50th=[   93], 99.90th=[  149], 99.95th=[  685],
     | 99.99th=[  742]
    bw (KB  /s): min=   96, max= 6131, per=100.00%, avg=3126.39, stdev=818.91
    lat (msec) : 2=0.23%, 4=8.95%, 10=5.53%, 20=17.63%, 50=47.08%
    lat (msec) : 100=20.12%, 250=0.34%, 500=0.01%, 750=0.10%, 1000=0.01%
  cpu          : usr=0.10%, sys=2.49%, ctx=154198, majf=0, minf=28
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=100.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.1%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued    : total=r=130822/w=33018/d=0, short=r=0/w=0/d=0, drop=r=0/w=0/d=0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: io=8176.4MB, aggrb=12267KB/s, minb=12267KB/s, maxb=12267KB/s, mint=682490msec, maxt=682490msec
  WRITE: io=2063.7MB, aggrb=3096KB/s, minb=3096KB/s, maxb=3096KB/s, mint=682490msec, maxt=682490msec

Disk stats (read/write):
    dm-3: ios=130799/33037, merge=0/0, ticks=4449823/1006525, in_queue=5456559, util=100.00%, aggrios=121954/32286, aggrmerge=8868/788, aggrticks=4224523/990613, aggrin_queue=5214898, aggrutil=100.00%
  sdb: ios=121954/32286, merge=8868/788, ticks=4224523/990613, in_queue=5214898, util=100.00%
2017/03/17:17:55:59: /mnt/slowdev/fio_scratch complete.
2017/03/17:17:55:59: -----------------------
2017/03/17:17:55:59: RUNNING size 10G with blocksize 64k: /mnt/fastdev/fio_scratch
fast_10G_64k: (g=0): rw=randrw, bs=64K-64K/64K-64K/64K-64K, ioengine=libaio, iodepth=8
fio-2.2.8
Starting 1 process

fast_10G_64k: (groupid=0, jobs=1): err= 0: pid=11156: Fri Mar 17 17:56:44 2017
  read : io=8176.4MB, bw=190529KB/s, iops=2977, runt= 43944msec
    slat (usec): min=7, max=180, avg=20.36, stdev= 5.93
    clat (usec): min=345, max=10712, avg=2517.97, stdev=766.36
     lat (usec): min=354, max=10737, avg=2538.75, stdev=766.19
    clat percentiles (usec):
     |  1.00th=[  636],  5.00th=[ 1256], 10.00th=[ 1624], 20.00th=[ 2096],
     | 30.00th=[ 2224], 40.00th=[ 2416], 50.00th=[ 2480], 60.00th=[ 2544],
     | 70.00th=[ 2640], 80.00th=[ 2960], 90.00th=[ 3472], 95.00th=[ 3888],
     | 99.00th=[ 4832], 99.50th=[ 5408], 99.90th=[ 6752], 99.95th=[ 7072],
     | 99.99th=[ 8384]
    bw (KB  /s): min=185984, max=194432, per=100.00%, avg=190608.26, stdev=2031.74
  write: io=2063.7MB, bw=48087KB/s, iops=751, runt= 43944msec
    slat (usec): min=11, max=201, avg=27.38, stdev= 6.89
    clat (usec): min=339, max=3723, avg=536.48, stdev=128.65
     lat (usec): min=353, max=3748, avg=564.30, stdev=128.60
    clat percentiles (usec):
     |  1.00th=[  398],  5.00th=[  462], 10.00th=[  466], 20.00th=[  466],
     | 30.00th=[  474], 40.00th=[  490], 50.00th=[  506], 60.00th=[  510],
     | 70.00th=[  524], 80.00th=[  540], 90.00th=[  716], 95.00th=[  796],
     | 99.00th=[ 1112], 99.50th=[ 1176], 99.90th=[ 1528], 99.95th=[ 1592],
     | 99.99th=[ 1944]
    bw (KB  /s): min=42240, max=54016, per=99.94%, avg=48056.30, stdev=2544.25
    lat (usec) : 500=9.32%, 750=10.12%, 1000=2.75%
    lat (msec) : 2=12.38%, 4=62.20%, 10=3.22%, 20=0.01%
  cpu          : usr=0.79%, sys=14.95%, ctx=157947, majf=0, minf=27
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=100.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.1%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued    : total=r=130822/w=33018/d=0, short=r=0/w=0/d=0, drop=r=0/w=0/d=0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: io=8176.4MB, aggrb=190529KB/s, minb=190529KB/s, maxb=190529KB/s, mint=43944msec, maxt=43944msec
  WRITE: io=2063.7MB, aggrb=48087KB/s, minb=48087KB/s, maxb=48087KB/s, mint=43944msec, maxt=43944msec

Disk stats (read/write):
    dm-4: ios=130692/32982, merge=0/0, ticks=328653/17538, in_queue=346196, util=99.82%, aggrios=130822/33022, aggrmerge=0/0, aggrticks=328696/17503, aggrin_queue=345870, aggrutil=99.79%
  nvme0n1: ios=130822/33022, merge=0/0, ticks=328696/17503, in_queue=345870, util=99.79%
2017/03/17:17:56:44: /mnt/fastdev/fio_scratch complete.
2017/03/17:17:56:44: -----------------------
2017/03/17:17:56:44: Completed: LVM Device TESTING
2017/03/17:17:56:44: Starting: LVM TEARDOWN
2017/03/17:17:56:45: Completed: LVM TEARDOWN
2017/03/17:17:56:45: END runLVM.sh**********************
2017/03/17:17:56:45: runLVM.sh - Closed logfile: ./RESULTS/runLVM.sh_20170317-173914.log
