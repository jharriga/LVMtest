2017/03/17:16:30:17: runLVM.sh - Created logfile: ./RESULTS/runLVM.sh_20170317-163017.log
2017/03/17:16:30:17: Key variable values:
2017/03/17:16:30:17: > slowDEV=/dev/sdb - fastDEV=/dev/nvme0n1
2017/03/17:16:30:17: > fastSZ=12G - fastLV=lv_fast - fastVG=vg_fast
2017/03/17:16:30:17: > slowSZ=100G - slowLV=lv_slow - slowVG=vg_slow
2017/03/17:16:30:17: > slowLVPATH=/dev/vg_slow/lv_slow - fastLVPATH=/dev/vg_fast/lv_fast
2017/03/17:16:30:17: > slowSCRATCH=/mnt/slowdev/fio_scratch - fastSCRATCH=/mnt/fastdev/fio_scratch
2017/03/17:16:30:17: ---------------------------------
2017/03/17:16:30:18: Checking if /dev/sdb is in use, if yes abort
2017/03/17:16:30:18: Preparing /dev/sdb device partitions
Welcome to fdisk (util-linux 2.23.2).

Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.


Command (m for help): 
Command (m for help): Partition type:
   p   primary (0 primary, 0 extended, 4 free)
   e   extended
Select (default p): Partition number (1-4, default 1): First sector (2048-625142447, default 2048): Using default value 2048
Last sector, +sectors or +size{K,M,G} (2048-625142447, default 625142447): Using default value 625142447
Partition 1 of type Linux and of size 298.1 GiB is set

Command (m for help): The partition table has been altered!

Calling ioctl() to re-read partition table.
Syncing disks.
2017/03/17:16:30:18: Removing parition: dev=/dev/sdb - partition=1
2017/03/17:16:30:18: Checking if /dev/nvme0n1 is in use, if yes abort
2017/03/17:16:30:18: Preparing /dev/nvme0n1 device partitions
Welcome to fdisk (util-linux 2.23.2).

Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.


Command (m for help): 
Command (m for help): Partition type:
   p   primary (0 primary, 0 extended, 4 free)
   e   extended
Select (default p): Partition number (1-4, default 1): First sector (2048-250069679, default 2048): Using default value 2048
Last sector, +sectors or +size{K,M,G} (2048-250069679, default 250069679): Using default value 250069679
Partition 1 of type Linux and of size 119.2 GiB is set

Command (m for help): The partition table has been altered!

Calling ioctl() to re-read partition table.
Syncing disks.
2017/03/17:16:30:18: Removing parition: dev=/dev/nvme0n1 - partition=1
2017/03/17:16:30:18: Device checks complete - continuing...
2017/03/17:16:30:18: Starting: LVM SETUP
  LV      VG         Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert Devices         
  home    rhel_ml110 -wi-ao----  90.17g                                                     /dev/sda2(2016) 
  root    rhel_ml110 -wi-ao----  50.00g                                                     /dev/sda2(25099)
  swap    rhel_ml110 -wi-ao----   7.88g                                                     /dev/sda2(0)    
  lv_fast vg_fast    -wi-ao----  12.00g                                                     /dev/nvme0n1(0) 
  lv_slow vg_slow    -wi-a----- 100.00g                                                     /dev/sdb(0)     
Filesystem                  1K-blocks    Used Available Use% Mounted on
/dev/mapper/rhel_ml110-root  52403200 4641412  47761788   9% /
devtmpfs                      3985584       0   3985584   0% /dev
tmpfs                         4001112      84   4001028   1% /dev/shm
tmpfs                         4001112    9084   3992028   1% /run
tmpfs                         4001112       0   4001112   0% /sys/fs/cgroup
/dev/sda1                     1038336  231872    806464  23% /boot
/dev/mapper/rhel_ml110-home  94501804   50028  94451776   1% /home
tmpfs                          800224      16    800208   1% /run/user/42
tmpfs                          800224       0    800224   0% /run/user/0
/dev/mapper/vg_slow-lv_slow 104806400   33040 104773360   1% /mnt/slowdev
/dev/mapper/vg_fast-lv_fast  12572672   33040  12539632   1% /mnt/fastdev
2017/03/17:16:30:20: Completed: LVM SETUP
2017/03/17:16:30:20: BEGIN: Write the scratch files
2017/03/17:16:30:20: /mnt/slowdev/fio_scratch is  KB
2017/03/17:16:30:20: /mnt/fastdev/fio_scratch is  KB
2017/03/17:16:30:20: COMPLETED: Write the scratch files
2017/03/17:16:30:20: Starting: LVM Device TESTING
2017/03/17:16:30:20: RUNNING size 1G with blocksize 64k: /mnt/slowdev/fio_scratch
slow_1G_64k: (g=0): rw=randrw, bs=64K-64K/64K-64K/64K-64K, ioengine=libaio, iodepth=8
fio-2.2.8
Starting 1 process
slow_1G_64k: Laying out IO file(s) (1 file(s) / 1024MB)

slow_1G_64k: (groupid=0, jobs=1): err= 0: pid=8921: Fri Mar 17 16:31:34 2017
  read : io=836864KB, bw=15536KB/s, iops=242, runt= 53865msec
    slat (usec): min=7, max=132, avg=26.22, stdev= 6.30
    clat (msec): min=1, max=682, avg=27.04, stdev=31.86
     lat (msec): min=1, max=682, avg=27.06, stdev=31.86
    clat percentiles (usec):
     |  1.00th=[ 1976],  5.00th=[ 2192], 10.00th=[ 2448], 20.00th=[ 4256],
     | 30.00th=[ 9280], 40.00th=[13120], 50.00th=[18048], 60.00th=[24192],
     | 70.00th=[32640], 80.00th=[43776], 90.00th=[61184], 95.00th=[79360],
     | 99.00th=[127488], 99.50th=[144384], 99.90th=[411648], 99.95th=[585728],
     | 99.99th=[651264]
    bw (KB  /s): min= 3143, max=22016, per=100.00%, avg=15636.73, stdev=2977.17
  write: io=211712KB, bw=3930.5KB/s, iops=61, runt= 53865msec
    slat (usec): min=11, max=113, avg=31.96, stdev= 6.41
    clat (msec): min=2, max=422, avg=23.22, stdev=25.75
     lat (msec): min=2, max=422, avg=23.25, stdev=25.75
    clat percentiles (msec):
     |  1.00th=[    3],  5.00th=[    3], 10.00th=[    3], 20.00th=[    4],
     | 30.00th=[    7], 40.00th=[   11], 50.00th=[   15], 60.00th=[   21],
     | 70.00th=[   29], 80.00th=[   39], 90.00th=[   55], 95.00th=[   70],
     | 99.00th=[  116], 99.50th=[  135], 99.90th=[  208], 99.95th=[  251],
     | 99.99th=[  424]
    bw (KB  /s): min=  880, max= 6528, per=100.00%, avg=3958.64, stdev=998.22
    lat (msec) : 2=1.15%, 4=19.00%, 10=12.70%, 20=21.53%, 50=30.94%
    lat (msec) : 100=12.28%, 250=2.29%, 500=0.05%, 750=0.05%
  cpu          : usr=0.10%, sys=3.16%, ctx=15349, majf=0, minf=49
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=100.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.1%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued    : total=r=13076/w=3308/d=0, short=r=0/w=0/d=0, drop=r=0/w=0/d=0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: io=836864KB, aggrb=15536KB/s, minb=15536KB/s, maxb=15536KB/s, mint=53865msec, maxt=53865msec
  WRITE: io=211712KB, aggrb=3930KB/s, minb=3930KB/s, maxb=3930KB/s, mint=53865msec, maxt=53865msec

Disk stats (read/write):
    dm-3: ios=13066/3315, merge=0/0, ticks=351658/79622, in_queue=431526, util=99.90%, aggrios=12118/3236, aggrmerge=908/83, aggrticks=332375/77739, aggrin_queue=410638, aggrutil=99.86%
  sdb: ios=12118/3236, merge=908/83, ticks=332375/77739, in_queue=410638, util=99.86%
2017/03/17:16:31:35: /mnt/slowdev/fio_scratch complete.
2017/03/17:16:31:35: -----------------------
2017/03/17:16:31:35: RUNNING size 1G with blocksize 64k: /mnt/fastdev/fio_scratch
fast_1G_64k: (g=0): rw=randrw, bs=64K-64K/64K-64K/64K-64K, ioengine=libaio, iodepth=8
fio-2.2.8
Starting 1 process
fast_1G_64k: Laying out IO file(s) (1 file(s) / 1024MB)

fast_1G_64k: (groupid=0, jobs=1): err= 0: pid=8947: Fri Mar 17 16:31:48 2017
  read : io=836864KB, bw=188823KB/s, iops=2950, runt=  4432msec
    slat (usec): min=7, max=180, avg=21.96, stdev= 6.22
    clat (usec): min=362, max=8562, avg=2540.03, stdev=726.27
     lat (usec): min=371, max=8580, avg=2562.44, stdev=726.02
    clat percentiles (usec):
     |  1.00th=[  660],  5.00th=[ 1288], 10.00th=[ 1672], 20.00th=[ 2160],
     | 30.00th=[ 2288], 40.00th=[ 2480], 50.00th=[ 2544], 60.00th=[ 2608],
     | 70.00th=[ 2672], 80.00th=[ 2928], 90.00th=[ 3408], 95.00th=[ 3824],
     | 99.00th=[ 4704], 99.50th=[ 5280], 99.90th=[ 6560], 99.95th=[ 6752],
     | 99.99th=[ 7584]
    bw (KB  /s): min=184192, max=191616, per=99.96%, avg=188752.00, stdev=2559.94
  write: io=211712KB, bw=47769KB/s, iops=746, runt=  4432msec
    slat (usec): min=11, max=147, avg=28.79, stdev= 6.37
    clat (usec): min=344, max=1512, avg=531.34, stdev=107.36
     lat (usec): min=368, max=1539, avg=560.59, stdev=107.69
    clat percentiles (usec):
     |  1.00th=[  414],  5.00th=[  462], 10.00th=[  466], 20.00th=[  466],
     | 30.00th=[  486], 40.00th=[  498], 50.00th=[  502], 60.00th=[  502],
     | 70.00th=[  516], 80.00th=[  548], 90.00th=[  684], 95.00th=[  780],
     | 99.00th=[  996], 99.50th=[ 1064], 99.90th=[ 1208], 99.95th=[ 1416],
     | 99.99th=[ 1512]
    bw (KB  /s): min=44032, max=50304, per=99.28%, avg=47424.00, stdev=2769.06
    lat (usec) : 500=10.35%, 750=9.33%, 1000=2.50%
    lat (msec) : 2=11.15%, 4=63.81%, 10=2.86%
  cpu          : usr=2.44%, sys=13.38%, ctx=15929, majf=0, minf=31
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=100.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.1%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued    : total=r=13076/w=3308/d=0, short=r=0/w=0/d=0, drop=r=0/w=0/d=0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: io=836864KB, aggrb=188823KB/s, minb=188823KB/s, maxb=188823KB/s, mint=4432msec, maxt=4432msec
  WRITE: io=211712KB, aggrb=47768KB/s, minb=47768KB/s, maxb=47768KB/s, mint=4432msec, maxt=4432msec

Disk stats (read/write):
    dm-4: ios=12920/3263, merge=0/0, ticks=32726/1727, in_queue=34458, util=97.81%, aggrios=13076/3310, aggrmerge=0/0, aggrticks=33091/1756, aggrin_queue=34844, aggrutil=97.47%
  nvme0n1: ios=13076/3310, merge=0/0, ticks=33091/1756, in_queue=34844, util=97.47%
2017/03/17:16:31:48: /mnt/fastdev/fio_scratch complete.
2017/03/17:16:31:48: -----------------------
2017/03/17:16:31:48: RUNNING size 10G with blocksize 64k: /mnt/slowdev/fio_scratch
slow_10G_64k: (g=0): rw=randrw, bs=64K-64K/64K-64K/64K-64K, ioengine=libaio, iodepth=8
fio-2.2.8
Starting 1 process
slow_10G_64k: Laying out IO file(s) (1 file(s) / 10240MB)

slow_10G_64k: (groupid=0, jobs=1): err= 0: pid=9009: Fri Mar 17 16:45:57 2017
  read : io=8176.4MB, bw=12275KB/s, iops=191, runt=682067msec
    slat (usec): min=6, max=131, avg=19.36, stdev= 5.41
    clat (msec): min=1, max=868, avg=34.09, stdev=31.48
     lat (msec): min=1, max=868, avg=34.11, stdev=31.48
    clat percentiles (msec):
     |  1.00th=[    3],  5.00th=[    3], 10.00th=[    6], 20.00th=[   15],
     | 30.00th=[   20], 40.00th=[   26], 50.00th=[   32], 60.00th=[   38],
     | 70.00th=[   44], 80.00th=[   52], 90.00th=[   63], 95.00th=[   72],
     | 99.00th=[   91], 99.50th=[   99], 99.90th=[  660], 99.95th=[  717],
     | 99.99th=[  791]
    bw (KB  /s): min=  413, max=19351, per=100.00%, avg=12390.63, stdev=2049.37
  write: io=2063.7MB, bw=3098.2KB/s, iops=48, runt=682067msec
    slat (usec): min=9, max=131, avg=23.69, stdev= 5.66
    clat (msec): min=1, max=843, avg=30.06, stdev=28.63
     lat (msec): min=1, max=843, avg=30.08, stdev=28.64
    clat percentiles (msec):
     |  1.00th=[    3],  5.00th=[    3], 10.00th=[    4], 20.00th=[   12],
     | 30.00th=[   17], 40.00th=[   22], 50.00th=[   27], 60.00th=[   33],
     | 70.00th=[   40], 80.00th=[   47], 90.00th=[   58], 95.00th=[   67],
     | 99.00th=[   84], 99.50th=[   92], 99.90th=[  137], 99.95th=[  701],
     | 99.99th=[  791]
    bw (KB  /s): min=   90, max= 6324, per=100.00%, avg=3126.27, stdev=787.94
    lat (msec) : 2=0.04%, 4=8.84%, 10=5.54%, 20=17.55%, 50=47.63%
    lat (msec) : 100=19.97%, 250=0.31%, 750=0.09%, 1000=0.02%
  cpu          : usr=0.09%, sys=2.43%, ctx=154184, majf=0, minf=27
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=100.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.1%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued    : total=r=130822/w=33018/d=0, short=r=0/w=0/d=0, drop=r=0/w=0/d=0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: io=8176.4MB, aggrb=12275KB/s, minb=12275KB/s, maxb=12275KB/s, mint=682067msec, maxt=682067msec
  WRITE: io=2063.7MB, aggrb=3098KB/s, minb=3098KB/s, maxb=3098KB/s, mint=682067msec, maxt=682067msec

Disk stats (read/write):
    dm-3: ios=130786/33041, merge=0/0, ticks=4443251/1010529, in_queue=5453886, util=100.00%, aggrios=121947/32296, aggrmerge=8875/788, aggrticks=4214129/994426, aggrin_queue=5208273, aggrutil=100.00%
  sdb: ios=121947/32296, merge=8875/788, ticks=4214129/994426, in_queue=5208273, util=100.00%
2017/03/17:16:45:57: /mnt/slowdev/fio_scratch complete.
2017/03/17:16:45:57: -----------------------
2017/03/17:16:45:57: RUNNING size 10G with blocksize 64k: /mnt/fastdev/fio_scratch
fast_10G_64k: (g=0): rw=randrw, bs=64K-64K/64K-64K/64K-64K, ioengine=libaio, iodepth=8
fio-2.2.8
Starting 1 process
fast_10G_64k: Laying out IO file(s) (1 file(s) / 10240MB)

fast_10G_64k: (groupid=0, jobs=1): err= 0: pid=9152: Fri Mar 17 16:47:54 2017
  read : io=8176.4MB, bw=186626KB/s, iops=2916, runt= 44863msec
    slat (usec): min=7, max=145, avg=20.07, stdev= 5.70
    clat (usec): min=354, max=12358, avg=2575.20, stdev=739.14
     lat (usec): min=367, max=12367, avg=2595.67, stdev=739.00
    clat percentiles (usec):
     |  1.00th=[  716],  5.00th=[ 1336], 10.00th=[ 1768], 20.00th=[ 2192],
     | 30.00th=[ 2320], 40.00th=[ 2480], 50.00th=[ 2544], 60.00th=[ 2608],
     | 70.00th=[ 2672], 80.00th=[ 2928], 90.00th=[ 3504], 95.00th=[ 3888],
     | 99.00th=[ 4832], 99.50th=[ 5408], 99.90th=[ 6752], 99.95th=[ 7328],
     | 99.99th=[ 8640]
    bw (KB  /s): min=182016, max=191488, per=100.00%, avg=186701.75, stdev=2264.72
  write: io=2063.7MB, bw=47102KB/s, iops=735, runt= 44863msec
    slat (usec): min=10, max=162, avg=27.25, stdev= 6.51
    clat (usec): min=339, max=4760, avg=530.61, stdev=127.67
     lat (usec): min=352, max=4793, avg=558.28, stdev=127.77
    clat percentiles (usec):
     |  1.00th=[  402],  5.00th=[  462], 10.00th=[  466], 20.00th=[  466],
     | 30.00th=[  470], 40.00th=[  490], 50.00th=[  498], 60.00th=[  502],
     | 70.00th=[  516], 80.00th=[  532], 90.00th=[  684], 95.00th=[  788],
     | 99.00th=[ 1080], 99.50th=[ 1176], 99.90th=[ 1496], 99.95th=[ 1608],
     | 99.99th=[ 3504]
    bw (KB  /s): min=41216, max=53632, per=99.97%, avg=47088.54, stdev=2799.71
    lat (usec) : 500=10.33%, 750=9.10%, 1000=2.36%
    lat (msec) : 2=10.43%, 4=64.58%, 10=3.20%, 20=0.01%
  cpu          : usr=0.81%, sys=14.47%, ctx=159631, majf=0, minf=26
  IO depths    : 1=0.1%, 2=0.1%, 4=0.1%, 8=100.0%, 16=0.0%, 32=0.0%, >=64=0.0%
     submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     complete  : 0=0.0%, 4=100.0%, 8=0.1%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
     issued    : total=r=130822/w=33018/d=0, short=r=0/w=0/d=0, drop=r=0/w=0/d=0
     latency   : target=0, window=0, percentile=100.00%, depth=8

Run status group 0 (all jobs):
   READ: io=8176.4MB, aggrb=186626KB/s, minb=186626KB/s, maxb=186626KB/s, mint=44863msec, maxt=44863msec
  WRITE: io=2063.7MB, aggrb=47102KB/s, minb=47102KB/s, maxb=47102KB/s, mint=44863msec, maxt=44863msec

Disk stats (read/write):
    dm-4: ios=130144/32839, merge=0/0, ticks=335080/17148, in_queue=352238, util=99.80%, aggrios=130822/33028, aggrmerge=0/0, aggrticks=336581/17167, aggrin_queue=353505, aggrutil=99.76%
  nvme0n1: ios=130822/33028, merge=0/0, ticks=336581/17167, in_queue=353505, util=99.76%
2017/03/17:16:47:54: /mnt/fastdev/fio_scratch complete.
2017/03/17:16:47:54: -----------------------
2017/03/17:16:47:54: Completed: LVM Device TESTING
2017/03/17:16:47:54: Starting: LVM TEARDOWN
2017/03/17:16:47:56: Completed: LVM TEARDOWN
2017/03/17:16:47:56: END runLVM.sh**********************
2017/03/17:16:47:56: runLVM.sh - Closed logfile: ./RESULTS/runLVM.sh_20170317-163017.log
